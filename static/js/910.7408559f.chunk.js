"use strict";(self.webpackChunktweets_project=self.webpackChunktweets_project||[]).push([[910],{910:function(t,e,n){n.r(e),n.d(e,{default:function(){return S}});var r=n(689),c=n(433),o=n(439),u=n(791),s=n(165),a=n(861),i=n(243);i.Z.defaults.baseURL="https://64455cc4914c816083cd1353.mockapi.io/tweets";var l=function(){var t=(0,a.Z)((0,s.Z)().mark((function t(e){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.get("/users?limit=3&page=".concat(e));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),f=n(7),p=n.n(f),d=n(184),h=function(t){var e=t.onClick;return(0,d.jsx)("button",{type:"button",onClick:e,children:"Follow"})},j=function(t){var e=t.onClick;return(0,d.jsx)("button",{type:"button",onClick:e,children:"Following"})},x=function(t){var e=t.user,n=e.id,r=e.name,c=e.tweets,s=e.avatar,a=e.followers,i=(0,u.useState)(function(t){var e=localStorage.getItem("follow-".concat(t)),n=JSON.parse(e);if(n)return n}(n)||!1),l=(0,o.Z)(i,2),f=l[0],p=l[1],x=(0,u.useState)(function(t){var e=localStorage.getItem("followers-".concat(t));return JSON.parse(e)}(n)||Number(a)),v=(0,o.Z)(x,2),m=v[0],w=v[1];(0,u.useEffect)((function(){localStorage.setItem("follow-".concat(n),f),localStorage.setItem("followers-".concat(n),m)}),[m,f,n]);var g=function(){p(!f),f||w((function(t){return t+1})),f&&w((function(t){return t-1}))};return(0,d.jsxs)("li",{children:[(0,d.jsx)("img",{src:s,alt:r}),(0,d.jsxs)("p",{children:[c," tweets"]}),(0,d.jsxs)("p",{children:[m.toLocaleString("en-US")," followers"]}),f?(0,d.jsx)(j,{onClick:g}):(0,d.jsx)(h,{onClick:g})]})};x.PropType={user:p().shape({name:p().string.isRequired,tweets:p().number.isRequired,avatar:p().string.isRequired,followers:p().string.isRequired}).isRequired};var v=function(t){var e=t.onClick;return(0,d.jsx)("button",{type:"button",onClick:e,children:"Load more"})},m=function(){var t=(0,u.useState)([]),e=(0,o.Z)(t,2),n=e[0],r=e[1],s=(0,u.useState)(null),a=(0,o.Z)(s,2),i=a[0],f=a[1],p=(0,u.useState)(1),h=(0,o.Z)(p,2),j=h[0],m=h[1];(0,u.useEffect)((function(){1===j?l(j).then((function(t){var e=t.data;r(e)})).catch((function(t){return f(t)})):l(j).then((function(t){r((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(t.data))}))})).catch((function(t){return f(t)}))}),[j]);return(0,d.jsxs)(d.Fragment,{children:[i&&(0,d.jsx)("p",{children:i.message}),(0,d.jsx)("ul",{children:n.map((function(t){return(0,d.jsx)(x,{user:t},t.id)}))}),(0,d.jsx)(v,{onClick:function(){m((function(t){return t+1}))}})]})},w=n(87),g=n(134),k=function(){return(0,d.jsxs)(w.rU,{to:"/",children:[(0,d.jsx)(g.kyg,{}),"Back home"]})};var S=function(){var t=(0,r.TH)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(k,{state:{from:t}}),(0,d.jsx)(m,{})]})}}}]);
//# sourceMappingURL=910.7408559f.chunk.js.map