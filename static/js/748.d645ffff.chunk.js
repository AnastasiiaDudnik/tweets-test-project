"use strict";(self.webpackChunktweets_project=self.webpackChunktweets_project||[]).push([[748],{748:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(439),s=n(791),u=n(165),c=n(861),o=n(243);o.Z.defaults.baseURL="https://64455cc4914c816083cd1353.mockapi.io/tweets";var a=function(){var e=(0,c.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/users");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),i=n(7),l=n.n(i),f=n(184),p=function(e){var t=e.onClick;return(0,f.jsx)("button",{type:"button",onClick:t,children:"Follow"})},d=function(e){var t=e.onClick;return(0,f.jsx)("button",{type:"button",onClick:t,children:"Following"})},w=function(e){var t=e.user,n=t.id,u=t.name,c=t.tweets,o=t.avatar,a=t.followers,i=(0,s.useState)(function(e){var t=localStorage.getItem("follow-".concat(e)),n=JSON.parse(t);if(n)return n}(n)||!1),l=(0,r.Z)(i,2),w=l[0],h=l[1],v=(0,s.useState)(function(e){var t=localStorage.getItem("followers-".concat(e));return JSON.parse(t)}(n)||Number(a)),g=(0,r.Z)(v,2),j=g[0],x=g[1];(0,s.useEffect)((function(){localStorage.setItem("follow-".concat(n),w),localStorage.setItem("followers-".concat(n),j)}),[j,w,n]);var m=function(){h(!w),w||x((function(e){return e+1})),w&&x((function(e){return e-1}))};return(0,f.jsxs)("li",{children:[(0,f.jsx)("img",{src:o,alt:u}),(0,f.jsxs)("p",{children:[c," tweets"]}),(0,f.jsxs)("p",{children:[j.toLocaleString("en-US")," followers"]}),w?(0,f.jsx)(d,{onClick:m}):(0,f.jsx)(p,{onClick:m})]})};w.PropType={user:l().shape({name:l().string.isRequired,tweets:l().number.isRequired,avatar:l().string.isRequired,followers:l().string.isRequired}).isRequired};var h=function(){var e=(0,s.useState)([]),t=(0,r.Z)(e,2),n=t[0],u=t[1],c=(0,s.useState)(null),o=(0,r.Z)(c,2),i=o[0],l=o[1];return(0,s.useEffect)((function(){a().then((function(e){var t=e.data;return u(t)})).catch((function(e){return l(e)}))}),[]),(0,f.jsxs)(f.Fragment,{children:[i&&(0,f.jsx)("p",{children:i.message}),(0,f.jsx)("ul",{children:n.map((function(e){return(0,f.jsx)(w,{user:e},e.id)}))})]})};var v=function(){return(0,f.jsx)(h,{})}}}]);
//# sourceMappingURL=748.d645ffff.chunk.js.map