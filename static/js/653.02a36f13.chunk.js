"use strict";(self.webpackChunktweets_project=self.webpackChunktweets_project||[]).push([[653],{653:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var r=n(689),c=n(433),o=n(439),s=n(791),u=n(165),a=n(861),i=n(243);i.Z.defaults.baseURL="https://64455cc4914c816083cd1353.mockapi.io/tweets";var l=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(e){return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.get("/users?limit=3&page=".concat(e));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),f=n(7),p=n.n(f),d=n(184),x=function(t){var e=t.onClick;return(0,d.jsx)("button",{type:"button",onClick:e,children:"Follow"})},h=function(t){var e=t.onClick;return(0,d.jsx)("button",{type:"button",onClick:e,children:"Following"})},j=function(t){var e=t.user,n=e.id,r=e.name,c=e.tweets,u=e.avatar,a=e.followers,i=(0,s.useState)(function(t){var e=localStorage.getItem("follow-".concat(t)),n=JSON.parse(e);if(n)return n}(n)||!1),l=(0,o.Z)(i,2),f=l[0],p=l[1],j=(0,s.useState)(function(t){var e=localStorage.getItem("followers-".concat(t));return JSON.parse(e)}(n)||Number(a)),v=(0,o.Z)(j,2),g=v[0],m=v[1];(0,s.useEffect)((function(){localStorage.setItem("follow-".concat(n),f),localStorage.setItem("followers-".concat(n),g)}),[g,f,n]);var w=function(){p(!f),f||m((function(t){return t+1})),f&&m((function(t){return t-1}))};return(0,d.jsxs)("li",{children:[(0,d.jsx)("div",{children:(0,d.jsx)("img",{src:u,alt:r})}),(0,d.jsxs)("p",{children:[c," tweets"]}),(0,d.jsxs)("p",{children:[g.toLocaleString("en-US")," followers"]}),f?(0,d.jsx)(h,{onClick:w}):(0,d.jsx)(x,{onClick:w})]})};j.PropType={user:p().shape({name:p().string.isRequired,tweets:p().number.isRequired,avatar:p().string.isRequired,followers:p().string.isRequired}).isRequired};var v,g=function(t){var e=t.onClick;return(0,d.jsx)("button",{type:"button",onClick:e,children:"Load more"})},m=n(168),w=n(444).ZP.ul(v||(v=(0,m.Z)(["\n  list-style: none;\n  display: flex;\n  gap: 48px;\n  flex-basis: cacl((100% - 48px * 2) / 3);\n"]))),k=function(){var t=(0,s.useState)([]),e=(0,o.Z)(t,2),n=e[0],r=e[1],u=(0,s.useState)(null),a=(0,o.Z)(u,2),i=a[0],f=a[1],p=(0,s.useState)(1),x=(0,o.Z)(p,2),h=x[0],v=x[1];(0,s.useEffect)((function(){1===h?l(h).then((function(t){var e=t.data;r(e)})).catch((function(t){return f(t)})):l(h).then((function(t){r((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(t.data))}))})).catch((function(t){return f(t)}))}),[h]);return(0,d.jsxs)(d.Fragment,{children:[i&&(0,d.jsx)("p",{children:i.message}),(0,d.jsx)(w,{children:n.map((function(t){return(0,d.jsx)(j,{user:t},t.id)}))}),(0,d.jsx)(g,{onClick:function(){v((function(t){return t+1}))}})]})},Z=n(87),b=n(134),S=function(){return(0,d.jsxs)(Z.rU,{to:"/",children:[(0,d.jsx)(b.kyg,{}),"Back home"]})};var C=function(){var t=(0,r.TH)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(S,{state:{from:t}}),(0,d.jsx)(k,{})]})}}}]);
//# sourceMappingURL=653.02a36f13.chunk.js.map